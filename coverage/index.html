<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Futbol</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.13.1/application.js' type='text/javascript'></script>
    <link href='./assets/0.13.1/application.css' media='screen, projection, print' rel='stylesheet' type='text/css' />
    <link rel="icon" type="image/png" href="./assets/0.13.1/favicon_green.png" />
  </head>

  <body>
    <div id="loading">
      <img src="./assets/0.13.1/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" class="hide">
      <div class="timestamp">Generated <abbr class="timeago" title="2024-09-22T16:04:23-06:00">2024-09-22T16:04:23-06:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent">
      <span class="green">
  96.92%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         59.59
       </span>
    </span> hits/line
    )
  </h2>

  <a name="AllFiles"></a>

  <div>
    <b>7</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>617</b> relevant lines,
    <span class="green"><b>598</b> lines covered</span> and
    <span class="red"><b>19</b> lines missed. </span>
    (<span class="green">
  96.92%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#3259abecf5162cf629ca4b2acd0c73d8ae99a383" class="src_link" title="lib/game_maker.rb">lib/game_maker.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">28</td>
            <td class="cell--number">16</td>
            <td class="cell--number">16</td>
            <td class="cell--number">0</td>
            <td class="cell--number">94.94</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#b3656d3c458c3c38ec7f2851754390bcf24ac0e5" class="src_link" title="lib/game_team.rb">lib/game_team.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">25</td>
            <td class="cell--number">18</td>
            <td class="cell--number">18</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1050.17</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#e3b3ab05c404be82325fc52196fbb9cc852c372c" class="src_link" title="lib/stat_tracker.rb">lib/stat_tracker.rb</a></td>
            <td class="green strong cell--number t-file__coverage">95.74 %</td>
            <td class="cell--number">768</td>
            <td class="cell--number">446</td>
            <td class="cell--number">427</td>
            <td class="cell--number">19</td>
            <td class="cell--number">20.87</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#9fc67fac9c6ae094eca7717dcdb4d29a17a0dd01" class="src_link" title="lib/team.rb">lib/team.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">13</td>
            <td class="cell--number">9</td>
            <td class="cell--number">9</td>
            <td class="cell--number">0</td>
            <td class="cell--number">748.33</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f6fe1e903665434557feb38bc28493528a106029" class="src_link" title="spec/game_team_spec.rb">spec/game_team_spec.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f68e41f2db9ae31ada72dc8b2f2ccf7cdf0eb020" class="src_link" title="spec/stat_tracker_spec.rb">spec/stat_tracker_spec.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">247</td>
            <td class="cell--number">113</td>
            <td class="cell--number">113</td>
            <td class="cell--number">0</td>
            <td class="cell--number">2.52</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#3f5eda40f9778caef9e9e9505c4a76da10a2f0d5" class="src_link" title="spec/team_spec.rb">spec/team_spec.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">25</td>
            <td class="cell--number">15</td>
            <td class="cell--number">15</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.07</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>


        
      </div>

      <div id="footer">
        Generated by <a href="https://github.com/simplecov-ruby/simplecov">simplecov</a> v0.22.0
        and simplecov-html v0.13.1<br/>
        using RSpec
      </div>

      <div class="source_files">
      
        <div class="source_table" id="3259abecf5162cf629ca4b2acd0c73d8ae99a383">
  <div class="header">
    <h3>lib/game_maker.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>16</b> relevant lines.
      <span class="green"><b>16</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">module GameMaker</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def goals_and_games(games_or_game_teams, season_or_team)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="3">
            
              <span class="hits">7</span>
            

            

            <code class="ruby">        goals_and_games = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="4">
            
              <span class="hits">7</span>
            

            

            <code class="ruby">        games_or_game_teams.each do |game_or_game_team|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="169" data-linenumber="5">
            
              <span class="hits">169</span>
            

            

            <code class="ruby">            goals = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="169" data-linenumber="6">
            
              <span class="hits">169</span>
            

            

            <code class="ruby">            hash_id = &quot;placeholder&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="169" data-linenumber="7">
            
              <span class="hits">169</span>
            

            

            <code class="ruby">            if season_or_team == &quot;season&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="8">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">                hash_id = game_or_game_team.season</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="9">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">                goals = game_or_game_team.away_goals + game_or_game_team.home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="144" data-linenumber="10">
            
              <span class="hits">144</span>
            

            

            <code class="ruby">            elsif season_or_team == &quot;team_id&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="144" data-linenumber="11">
            
              <span class="hits">144</span>
            

            

            <code class="ruby">                hash_id = game_or_game_team.team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="144" data-linenumber="12">
            
              <span class="hits">144</span>
            

            

            <code class="ruby">                goals = game_or_game_team.goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="169" data-linenumber="15">
            
              <span class="hits">169</span>
            

            

            <code class="ruby">            goals_and_games[hash_id] ||= { goals: 0, games: 0 }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="169" data-linenumber="17">
            
              <span class="hits">169</span>
            

            

            <code class="ruby">            goals_and_games[hash_id][:goals] += goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="169" data-linenumber="19">
            
              <span class="hits">169</span>
            

            

            <code class="ruby">            goals_and_games[hash_id][:games] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="22">
            
              <span class="hits">7</span>
            

            

            <code class="ruby">        goals_and_games</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="b3656d3c458c3c38ec7f2851754390bcf24ac0e5">
  <div class="header">
    <h3>lib/game_team.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>18</b> relevant lines.
      <span class="green"><b>18</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">class GameTeam</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :game_id, :team_id, :hoa, :result, :settled_in, :head_coach,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            

            

            <code class="ruby">              :goals, :shots, :tackles, :pim, :powerplayopportunities,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            

            

            <code class="ruby">              :powerplaygoals, :faceoffwinpercentage, :giveaways, :takeaways</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(game_id, team_id, hoa, result, settled_in, head_coach,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            

            

            <code class="ruby">                 goals, shots, tackles, pim, powerplayopportunities,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            

            

            <code class="ruby">                 powerplaygoals, faceoffwinpercentage, giveaways, takeaways)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="9">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @game_id = game_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="10">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @team_id = team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="11">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @hoa = hoa</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="12">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @result = result</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="13">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @settled_in = settled_in</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="14">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @head_coach = head_coach</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="15">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @goals = goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="16">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @shots = shots</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="17">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @tackles = tackles</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="18">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @pim = pim</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="19">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @powerplayopportunities = powerplayopportunities</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="20">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @powerplaygoals = powerplaygoals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="21">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @faceoffwinpercentage = faceoffwinpercentage</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="22">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @giveaways = giveaways</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="23">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">    @takeaways = takeaways</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="e3b3ab05c404be82325fc52196fbb9cc852c372c">
  <div class="header">
    <h3>lib/stat_tracker.rb</h3>
    <h4>
      <span class="green">
  95.74%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>446</b> relevant lines.
      <span class="green"><b>427</b> lines covered</span> and
      <span class="red"><b>19</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &#39;game&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &#39;team&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &#39;game_team&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;CSV&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &#39;game_maker&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">class StatTracker</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  include GameMaker</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    attr_reader :games, :teams, :game_teams</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="12">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">      @games = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="13">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">      @teams = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="37" data-linenumber="14">
            
              <span class="hits">37</span>
            

            

            <code class="ruby">      @game_teams = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def self.from_csv(locations)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            

            

            <code class="ruby">       # Create a new instance of the StatTracker class</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="19">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">      stat_tracker = StatTracker.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            

            

            <code class="ruby">      # Call the load_games method on the new StatTracker instance</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            

            

            <code class="ruby">      # Pass in the value associated with the :games key from the locations hash</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            

            

            <code class="ruby">      # This value should be the file path to the games CSV file</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="23">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">      stat_tracker.load_games(locations[:games])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="24">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">      stat_tracker.load_teams(locations[:teams])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="25">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">      stat_tracker.load_game_teams(locations[:game_teams])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="26">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">      stat_tracker</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def load_games(file_path)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="30">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">      CSV.foreach(file_path, headers: true, header_converters: :symbol) do |row|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="875" data-linenumber="31">
            
              <span class="hits">875</span>
            

            

            <code class="ruby">        @games &lt;&lt; Game.new(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            

            

            <code class="ruby">            row[:game_id].to_i,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            

            

            <code class="ruby">            row[:season],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            

            

            <code class="ruby">            row[:type],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            

            

            <code class="ruby">            row[:date_time],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            

            

            <code class="ruby">            row[:away_team_id],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            

            

            <code class="ruby">            row[:home_team_id],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            

            

            <code class="ruby">            row[:away_goals].to_i,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            

            

            <code class="ruby">            row[:home_goals].to_i,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            

            

            <code class="ruby">            row[:venue],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            

            

            <code class="ruby">            row[:venue_link]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            

            

            <code class="ruby">        )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def load_teams(file_path)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="47">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">      CSV.foreach(file_path, headers: true, header_converters: :symbol) do |row|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1120" data-linenumber="48">
            
              <span class="hits">1120</span>
            

            

            <code class="ruby">        @teams &lt;&lt; Team.new(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            

            

            <code class="ruby">          row[:team_id], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            

            

            <code class="ruby">          row[:franchiseid], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            

            

            <code class="ruby">          row[:teamname], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            

            

            <code class="ruby">          row[:abbreviation], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            

            

            <code class="ruby">          row[:stadium], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            

            

            <code class="ruby">          row[:link]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            

            

            <code class="ruby">          )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def load_game_teams(file_path)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="60">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">      CSV.foreach(file_path, headers: true, header_converters: :symbol) do |row|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1260" data-linenumber="61">
            
              <span class="hits">1260</span>
            

            

            <code class="ruby">        @game_teams &lt;&lt; GameTeam.new(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            

            

            <code class="ruby">          row[:game_id], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            

            

            <code class="ruby">          row[:team_id], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            

            

            <code class="ruby">          row[:hoa], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            

            

            <code class="ruby">          row[:result], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            

            

            <code class="ruby">          row[:settled_in], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            

            

            <code class="ruby">          row[:head_coach], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            

            

            <code class="ruby">          row[:goals].to_i, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            

            

            <code class="ruby">          row[:shots].to_i, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            

            

            <code class="ruby">          row[:tackles].to_i, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            

            

            <code class="ruby">          row[:pim].to_i, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            

            

            <code class="ruby">          row[:powerplayopportunities].to_i, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            

            

            <code class="ruby">          row[:powerplaygoals].to_i, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            

            

            <code class="ruby">          row[:faceoffwinpercentage].to_f, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            

            

            <code class="ruby">          row[:giveaways].to_i, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            

            

            <code class="ruby">          row[:takeaways].to_i)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def total_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="81">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">        goals_array= @games.map do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="75" data-linenumber="82">
            
              <span class="hits">75</span>
            

            

            <code class="ruby">        game.away_goals + game.home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="84">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">    goals_array</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="87">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def highest_total_score</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="88">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    highest = total_goals.max</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="89">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    highest</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="92">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def lowest_total_score</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="93">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    lowest = total_goals.min</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="94">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    lowest</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="97">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def percentage_home_wins</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="98">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        home_wins = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="99">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        @games.each do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="100">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">        if game.home_goals.to_i &gt; game.away_goals.to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="101">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">            home_wins += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="105">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    total_games = games.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="106">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    percentage = (home_wins.to_f / total_games).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="109">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def percentage_visitor_wins</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="110">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    visitor_wins = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="111">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        @games.each do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="112">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">        if game.away_goals.to_i &gt; game.home_goals.to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="113">
            
              <span class="hits">9</span>
            

            

            <code class="ruby">            visitor_wins += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="117">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    total_games = games.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="118">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    percentage = (visitor_wins.to_f / total_games).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="121">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def percentage_ties</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="122">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    ties = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="123">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        @games.each do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="124">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">        if game.home_goals.to_i == game.away_goals.to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="125">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">            ties +=1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="129">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    total_games = games.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="130">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    percentage = (ties.to_f / total_games).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="133">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def home_games_only #for highest/lowest scoring at home</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="134">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        home_games = @game_teams.find_all do |game_team|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="135">
            
              <span class="hits">72</span>
            

            

            <code class="ruby">        game_team.hoa ==&quot;home&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="137">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        home_games</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="140">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def home_calculate_average_goals_per_team</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="142">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">    team_goals_and_games = home_create_team_goals_and_games</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            

            

            <code class="ruby">    #use the create team goals and games method</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="145">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_goals_and_games.map do |team_id, stats| </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="146">
            
              <span class="hits">28</span>
            

            

            <code class="ruby">        [team_id, stats[:goals].to_f / stats[:games]]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            

            

            <code class="ruby">        end.to_h</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="151">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def average_goals_per_game</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="152">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        (total_goals.sum / @games.size.to_f).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="155">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def calculate_game_stats</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="156">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        game_stats = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="158">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        @game_teams.each do |game_team|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="36" data-linenumber="159">
            
              <span class="hits">36</span>
            

            

            <code class="ruby">        game_id = game_team.game_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="36" data-linenumber="160">
            
              <span class="hits">36</span>
            

            

            <code class="ruby">        team_id = game_team.team_id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="36" data-linenumber="162">
            
              <span class="hits">36</span>
            

            

            <code class="ruby">        game_record = find_game_record(game_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="36" data-linenumber="163">
            
              <span class="hits">36</span>
            

            

            <code class="ruby">        next unless game_record</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="165">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">        season_year = game_record.season</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="167">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">        game_stats[game_id] ||= { season_year: season_year, teams: {} }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="168">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">        game_stats[game_id][:teams][team_id] ||= { goals: 0, games: 0, shots: 0 }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="170">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">        game_stats[game_id][:teams][team_id][:goals] += game_team.goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="171">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">        game_stats[game_id][:teams][team_id][:games] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="172">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">        game_stats[game_id][:teams][team_id][:shots] += game_team.shots</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="174">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    game_stats</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="177">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def find_game_record(game_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2394" data-linenumber="178">
            
              <span class="hits">2394</span>
            

            

            <code class="ruby">    @games.find { |game| game.game_id.to_s == game_id.to_s }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="181">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def average_goals_by_season</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="182">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        season_goals_and_games = create_season_goals_and_games</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="184">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        season_goals_and_games.map do |season, stats| </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="185">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">            [season, (stats[:goals].to_f / stats[:games]).round(2)]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            

            

            <code class="ruby">        end.to_h</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="189">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def count_of_teams</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="190">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      @teams.size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="193">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def calculate_average_goals_per_team</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="194">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_goals_and_games = create_team_goals_and_games</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="195">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_stats = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="197">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_goals_and_games.each do |team_id, stats| </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="38" data-linenumber="198">
            
              <span class="hits">38</span>
            

            

            <code class="ruby">            team_stats[team_id] ||= { goals: 0, games: 0 }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="38" data-linenumber="199">
            
              <span class="hits">38</span>
            

            

            <code class="ruby">            team_stats[team_id][:goals] += stats[:goals ]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="38" data-linenumber="200">
            
              <span class="hits">38</span>
            

            

            <code class="ruby">            team_stats[team_id][:games] += stats[:games]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="203">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        average_goals = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="204">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_stats.each do |team_id, stats|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="38" data-linenumber="205">
            
              <span class="hits">38</span>
            

            

            <code class="ruby">        average_goals[team_id] = stats[:goals].to_f / stats[:games]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="207">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        average_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="210">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def create_team_goals_and_games</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="211">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        goals_and_games(@game_teams, &quot;team_id&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="214">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def best_offense</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="215">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        average_goals_per_team = calculate_average_goals_per_team </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="216">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        best_team_id = average_goals_per_team.max_by { |team_id, average_goals| average_goals }.first </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="217">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        find_team_name(best_team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="220">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def worst_offense</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="221">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        average_goals_per_team = calculate_average_goals_per_team </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="222">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        worst_team_id = average_goals_per_team.min_by { |team_id, average_goals| average_goals }.first </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="223">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        find_team_name(worst_team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="226">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def find_team_name(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="158" data-linenumber="227">
            
              <span class="hits">158</span>
            

            

            <code class="ruby">        team = @teams.find { |team| team.team_id == team_id }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="228">
            
              <span class="hits">15</span>
            

            

            <code class="ruby">        team.teamname if team</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="231">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def away_games_only </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="232">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        away_games = @game_teams.find_all do |game_team|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="233">
            
              <span class="hits">72</span>
            

            

            <code class="ruby">            game_team.hoa ==&quot;away&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="235">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        away_games</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="238">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def away_create_team_goals_and_games</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="239">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        goals_and_games(away_games_only, &quot;team_id&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="242">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def away_calculate_average_goals_per_team</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="243">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_goals_and_games = away_create_team_goals_and_games</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="244">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">            team_goals_and_games.map do |team_id, stats| </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="22" data-linenumber="245">
            
              <span class="hits">22</span>
            

            

            <code class="ruby">            [team_id, stats[:goals].to_f / stats[:games]]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            

            

            <code class="ruby">        end.to_h</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="249">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def highest_scoring_home_team</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="250">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        highest_scoring=home_calculate_average_goals_per_team</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            

            

            <code class="ruby">        #require &quot;pry&quot; ; binding.pry</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="252">
            
              <span class="hits">15</span>
            

            

            <code class="ruby">        highest=highest_scoring.max_by {|team,scoring_percentage| scoring_percentage }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="253">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        find_team_name(highest[0])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="256">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def lowest_scoring_home_team</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="257">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    lowest_scoring=home_calculate_average_goals_per_team</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="258">
            
              <span class="hits">15</span>
            

            

            <code class="ruby">    lowest=lowest_scoring.min_by {|team,scoring_percentage| scoring_percentage }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="259">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    find_team_name(lowest[0])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="262">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def highest_scoring_visitor</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="263">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        highest_scoring=away_calculate_average_goals_per_team</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="264">
            
              <span class="hits">12</span>
            

            

            <code class="ruby">        highest=highest_scoring.max_by {|team,scoring_percentage| scoring_percentage }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="265">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        find_team_name(highest[0])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="268">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def lowest_scoring_visitor</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="269">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        lowest_scoring=away_calculate_average_goals_per_team</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="270">
            
              <span class="hits">12</span>
            

            

            <code class="ruby">        lowest=lowest_scoring.min_by {|team,scoring_percentage| scoring_percentage }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="271">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        find_team_name(lowest[0])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            

            

            <code class="ruby">    end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="274">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def create_season_goals_and_games</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="275">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      goals_and_games(@games, &quot;season&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="278">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def home_create_team_goals_and_games</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="279">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">      goals_and_games(home_games_only, &quot;team_id&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="282">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def count_of_games_by_season</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="283">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        games_by_season = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="285">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        @games.each do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="286">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">            if games_by_season[game.season]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="287">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">            games_by_season[game.season] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="289">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">            games_by_season[game.season] = 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="292">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        games_by_season</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="295">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def winningest_coach(season)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            

            

            <code class="ruby">        # Returns a nested hash of information with the coach&#39;s name as the outer hash </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            

            

            <code class="ruby">        # The inner has has total games =&gt; qty and wins =&gt; qty</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="298">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        coach_records = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            

            

            <code class="ruby">        # Allows you to input the season (which come from the game CSV and only use the </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            

            

            <code class="ruby">        # first four characters which correspond to the year, or season)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="301">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        season_year = season[0..3]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="303">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        @game_teams.each do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="304">
            
              <span class="hits">72</span>
            

            

            <code class="ruby">            next unless game.game_id[0..3] == season_year</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            

            

            <code class="ruby">            </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="306">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">            coach = game.head_coach</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="307">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">            result = game.result </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="309">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">            coach_records[coach] ||= { wins: 0, total_games: 0 }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="310">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">            coach_records[coach][:total_games] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="311">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">            coach_records[coach][:wins] += 1 if result == &quot;WIN&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="314">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        return nil if coach_records.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="316">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        win_percentages = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            

            

            <code class="ruby">            </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="318">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        coach_records.each do |coach, record|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="319">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">            win_percentages[coach] = record[:wins].to_f / record[:total_games]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="322">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        win_percentages.max_by { |coach, percentage|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="323">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">        percentage }.first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="326">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def worst_coach(season)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="327">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        coach_records = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="328">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        season_year = season[0..3]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="330">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        @game_teams.each do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="331">
            
              <span class="hits">72</span>
            

            

            <code class="ruby">            next unless game.game_id[0..3] == season_year</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            

            

            <code class="ruby">            </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="333">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">            coach = game.head_coach</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="334">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">            result = game.result </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="336">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">            coach_records[coach] ||= { wins: 0, total_games: 0 }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="337">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">            coach_records[coach][:total_games] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="338">
            
              <span class="hits">16</span>
            

            

            <code class="ruby">            coach_records[coach][:wins] += 1 if result == &quot;WIN&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="341">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        return nil if coach_records.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="343">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        win_percentages = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            

            

            <code class="ruby">            </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="345">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        coach_records.each do |coach, record|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="346">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">            win_percentages[coach] = record[:wins].to_f / record[:total_games]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="349">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        win_percentages.min_by { |coach, percentage|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="350">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">            percentage }.first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="353">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def tackles(season)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="354">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_records = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="355">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        season_year = season[0..3]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="357">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        @game_teams.each do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="358">
            
              <span class="hits">72</span>
            

            

            <code class="ruby">            next unless game.game_id[0..3] == season_year</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="360">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        team_id = game.team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="361">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        tackles = game.tackles</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            

            

            <code class="ruby">        #require &quot;pry&quot;; binding.pry</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="363">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        team_records[team_id] ||= {tackles: 0}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="364">
            
              <span class="hits">20</span>
            

            

            <code class="ruby">        team_records[team_id][:tackles] += tackles</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="366">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_records</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="369">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def most_tackles(season)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="370">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        tackles_tracker = tackles(season)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="371">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">        most = tackles_tracker.max_by {|team,tackles| tackles[:tackles]}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="372">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        find_team_name(most[0])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="375">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def fewest_tackles(season)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="376">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        tackles_tracker = tackles(season)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="377">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">        min = tackles_tracker.min_by {|team,tackles| tackles[:tackles]}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="378">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        find_team_name(min[0])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="381">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def calculate_season_stats</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="382">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        season_stats = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="384">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        @game_teams.each do |game_team|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="385">
            
              <span class="hits">72</span>
            

            

            <code class="ruby">            game_id = game_team.game_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="386">
            
              <span class="hits">72</span>
            

            

            <code class="ruby">            team_id = game_team.team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="387">
            
              <span class="hits">72</span>
            

            

            <code class="ruby">            result = game_team.result</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="389">
            
              <span class="hits">72</span>
            

            

            <code class="ruby">            game_record = find_game_record(game_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="390">
            
              <span class="hits">72</span>
            

            

            <code class="ruby">            next unless game_record</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="392">
            
              <span class="hits">12</span>
            

            

            <code class="ruby">            season_year = game_record.season</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="394">
            
              <span class="hits">12</span>
            

            

            <code class="ruby">            season_stats[team_id] ||= {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="395">
            
              <span class="hits">12</span>
            

            

            <code class="ruby">            season_stats[team_id][season_year] ||= { games: 0, wins: 0 }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="397">
            
              <span class="hits">12</span>
            

            

            <code class="ruby">            season_stats[team_id][season_year][:games] += 1 </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="398">
            
              <span class="hits">12</span>
            

            

            <code class="ruby">            season_stats[team_id][season_year][:wins] += 1 if result == &#39;WIN&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="400">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        season_stats</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="403">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def calculate_season_accuracy_ratios</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="404">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        game_stats = calculate_game_stats</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="405">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        season_accuracy_ratios = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="407">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        game_stats.each do |game_id, data| </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="408">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">            season_year = data[:season_year]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="409">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">            season_accuracy_ratios[season_year] ||= {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="411">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">        data[:teams].each do |team_id, stats|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="412">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">            season_accuracy_ratios[season_year][team_id] ||= { total_goals: 0, total_shots: 0 }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="413">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">            season_accuracy_ratios[season_year][team_id][:total_shots] += stats[:shots]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="414">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">            season_accuracy_ratios[season_year][team_id][:total_goals] += stats[:goals]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="415">
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="417">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        season_accuracy_ratios.each do |season_year, team_stats|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="418">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">            team_stats.each do |team_id, totals|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="419">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                totals[:accuracy_ratio] = (totals[:total_goals].to_f / totals[:total_shots]) unless totals[:total_shots].zero?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="422">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      season_accuracy_ratios</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="425">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def most_accurate_team(season)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="426">
            

            

            <code class="ruby">        season_accuracy_ratios = calculate_season_accuracy_ratios</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="427">
            

            

            <code class="ruby">        return nil unless season_accuracy_ratios[season] &amp;&amp; !season_accuracy_ratios[season].empty?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="428">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="429">
            

            

            <code class="ruby">        most_accurate_team_id, _ = season_accuracy_ratios[season].max_by do |team_id, data|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="430">
            

            

            <code class="ruby">            data[:accuracy_ratio] || 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="432">
            

            

            <code class="ruby">        find_team_name(most_accurate_team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="433">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="435">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def least_accurate_team(season)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="436">
            

            

            <code class="ruby">        season_accuracy_ratios = calculate_season_accuracy_ratios</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="437">
            

            

            <code class="ruby">        worst_team_id = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="438">
            

            

            <code class="ruby">        worst_ratio = Float::INFINITY</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="439">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="440">
            

            

            <code class="ruby">        if season_accuracy_ratios[season]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="441">
            

            

            <code class="ruby">            season_accuracy_ratios[season].each do |team_id, stats|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="442">
            

            

            <code class="ruby">            accuracy_ratio = stats[:accuracy_ratio]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="443">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="444">
            

            

            <code class="ruby">            if accuracy_ratio &lt; worst_ratio</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="445">
            

            

            <code class="ruby">                worst_ratio = accuracy_ratio</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="446">
            

            

            <code class="ruby">                worst_team_id = team_id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="447">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="448">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="449">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="450">
            

            

            <code class="ruby">      find_team_name(worst_team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="451">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="452">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="453">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def team_info(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="454">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_info ={}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="455">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="456">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        @teams.each do |team|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="457">
            
              <span class="hits">33</span>
            

            

            <code class="ruby">            if team.team_id == team_id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="459">
            

            

            <code class="ruby">                team_info = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="460">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                    &quot;team_id&quot; =&gt; team.team_id, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="461">
            

            

            <code class="ruby">                    &quot;franchise_id&quot; =&gt; team.franchiseid, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="462">
            

            

            <code class="ruby">                    &quot;team_name&quot; =&gt; team.teamname, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="463">
            

            

            <code class="ruby">                    &quot;abbreviation&quot; =&gt; team.abbreviation, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="464">
            

            

            <code class="ruby">                    &quot;link&quot; =&gt; team.link</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="465">
            

            

            <code class="ruby">                }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="466">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                break</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="467">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="468">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="469">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_info</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="470">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="472">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def best_season(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="473">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        season_win_percentages = calculate_season_win_percentages</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="474">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        best_season = nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="475">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        best_win_percentage = 0.0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="476">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        team_id = team_id.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="477">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="478">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        if season_win_percentages.key?(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="479">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">            season_win_percentages[team_id].each do |season_year, win_percentage|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="480">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">            if win_percentage &gt; best_win_percentage</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="481">
            

            

            <code class="ruby">                best_win_percentage = win_percentage</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="482">
            

            

            <code class="ruby">                best_season = season_year</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="483">
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="484">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="485">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="486">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        best_season</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="487">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="488">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="489">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def worst_season(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="490">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        season_win_percentages = calculate_season_win_percentages</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="491">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        worst_season = nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="492">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        worst_win_percentage = Float::INFINITY</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="493">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        team_id = team_id.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="494">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="495">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        if season_win_percentages.key?(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="496">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">            season_win_percentages[team_id].each do |season_year, win_percentage|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="497">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                if win_percentage &lt; worst_win_percentage</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="498">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                worst_win_percentage = win_percentage</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="499">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                worst_season = season_year</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="500">
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="501">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="502">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="503">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        worst_season</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="504">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="505">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="506">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def opponent_record(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="507">
            

            

            <code class="ruby">        #using game_teams to get a record of losses and wins against the team provided</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="508">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">        opponent_records = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="509">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">        @games.each do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="125" data-linenumber="510">
            
              <span class="hits">125</span>
            

            

            <code class="ruby">        next unless game.away_team_id == team_id || game.home_team_id == team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="511">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">        team_home = game.home_team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="512">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">        team_away = game.away_team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="513">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">        if game.away_team_id ==team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="514">
            
              <span class="hits">15</span>
            

            

            <code class="ruby">            opponent_records[team_home] ||= {wins_against: 0, total_games:0}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="515">
            
              <span class="hits">15</span>
            

            

            <code class="ruby">            opponent_records[team_home][:total_games] +=1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="516">
            
              <span class="hits">15</span>
            

            

            <code class="ruby">            opponent_records[team_home][:wins_against] += 1 if game.away_goals &gt; game.home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="517">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="518">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">        elsif game.home_team_id ==team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="519">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">            opponent_records[team_away] ||= {wins_against: 0, total_games:0}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="520">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">            opponent_records[team_away][:total_games] +=1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="521">
            
              <span class="hits">10</span>
            

            

            <code class="ruby">            opponent_records[team_away][:wins_against] += 1 if game.away_goals &lt; game.home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="522">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="523">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="524">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">        win_percentages = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="525">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">        opponent_records.each do |team_id,record|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="526">
            
              <span class="hits">17</span>
            

            

            <code class="ruby">        win_percentages[team_id] = record[:wins_against].to_f/record[:total_games]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="527">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="528">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">        win_percentages</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="529">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="530">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="531">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def favorite_opponent(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="532">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        records = opponent_record(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="533">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        favorite_opponent = records.max_by do |team, percentage|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="534">
            
              <span class="hits">7</span>
            

            

            <code class="ruby">        percentage</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="535">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="536">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        find_team_name(favorite_opponent[0])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="537">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="538">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="539">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def rival(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="540">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        records=opponent_record(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="541">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        rival = records.min_by do |team, percentage|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="542">
            
              <span class="hits">7</span>
            

            

            <code class="ruby">        percentage</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="543">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="544">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        find_team_name(rival[0])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="545">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="546">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="547">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def calculate_season_win_percentages</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="548">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        season_stats = calculate_season_stats</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="549">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        season_win_percentages = {} </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="550">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="551">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        season_stats.each do |team_id, seasons|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="552">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">            season_win_percentages[team_id] ||= {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="553">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">            seasons.each do |season_year, stats|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="554">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">                total_games = stats[:games]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="555">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">                total_wins = stats[:wins]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="556">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">                win_percentage = total_games &gt; 0? (total_wins.to_f / total_games * 100) : 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="557">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">                season_win_percentages[team_id][season_year] = win_percentage </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="558">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="559">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="560">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        season_win_percentages</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="561">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="562">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="563">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="564">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def calculate_team_wins(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="565">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_wins = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="566">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="567">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        @game_teams.each do |game_team|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="568">
            
              <span class="hits">72</span>
            

            

            <code class="ruby">            if game_team.team_id.to_s == team_id.to_s &amp;&amp; game_team.result == &#39;WIN&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="569">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">                team_wins &lt;&lt; game_team.game_id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="570">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="571">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="572">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_wins</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="573">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="574">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="575">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def calculate_team_ties(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="576">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        team_ties = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="577">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="578">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        @game_teams.each do |game_team|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="36" data-linenumber="579">
            
              <span class="hits">36</span>
            

            

            <code class="ruby">            if game_team.team_id.to_s == team_id.to_s &amp;&amp; game_team.result == &#39;TIE&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="580">
            

            

            <code class="ruby">                team_ties &lt;&lt; game_team.game_id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="581">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="582">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="583">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        team_ties</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="584">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="585">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="586">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def calculate_team_losses(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="587">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_losses = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="588">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="589">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        @game_teams.each do |game_team|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="590">
            
              <span class="hits">72</span>
            

            

            <code class="ruby">            if game_team.team_id.to_s == team_id.to_s &amp;&amp; game_team.result == &#39;LOSS&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="591">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">                team_losses &lt;&lt; game_team.game_id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="592">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="593">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="594">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        team_losses</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="595">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="596">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="597">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def calculate_winning_points_differences(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="598">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        team_wins = calculate_team_wins(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="599">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        winning_points_differences = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="600">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="601">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        @games.each do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="602">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">            next unless team_wins.include?(game.game_id.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="603">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="604">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">            points_difference = if game.away_team_id.to_s == team_id.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="605">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                game.away_goals - game.home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="606">
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="607">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                game.home_goals - game.away_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="608">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="609">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="610">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">            winning_points_differences[game.game_id] = points_difference</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="611">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="612">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        winning_points_differences</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="613">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="614">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="615">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def biggest_team_blowout(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="616">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        winning_points_differences = calculate_winning_points_differences(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="617">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        biggest_team_blowout = winning_points_differences.values.max</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="618">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        biggest_team_blowout</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="619">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="620">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="621">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def calculate_losing_points_differences(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="622">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        team_losses = calculate_team_losses(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="623">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        losing_points_differences = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="624">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="625">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        @games.each do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="626">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">            next unless team_losses.include?(game.game_id.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="627">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="628">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">            points_difference = if game.away_team_id.to_s == team_id.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="629">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                game.home_goals - game.away_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="630">
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="631">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                game.away_goals - game.home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="632">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="633">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="634">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">        losing_points_differences[game.game_id] = points_difference</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="635">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="636">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        losing_points_differences</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="637">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="638">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="639">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def worst_loss(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="640">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        losing_points_differences = calculate_losing_points_differences(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="641">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        worst_loss = losing_points_differences.values.max</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="642">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        worst_loss</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="643">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="644">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="645">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def head_to_head(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="646">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        record = opponent_record(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="647">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        head_to_head_hash ={}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="648">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        record.each do |team_id,win_percentage|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="649">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">            head_to_head_hash[find_team_name(team_id)] = win_percentage</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="650">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="651">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        head_to_head_hash</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="652">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="653">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="654">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def most_goals_scored(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="52" data-linenumber="655">
            
              <span class="hits">52</span>
            

            

            <code class="ruby">        team_games = @games.select { |game| game.home_team_id == team_id || game.away_team_id == team_id }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="656">
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="657">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        max_goals = team_games.map do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="658">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">          if game.home_team_id == team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="659">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">            game.home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="660">
            

            

            <code class="ruby">          else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="661">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">            game.away_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="662">
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="663">
            

            

            <code class="ruby">        end.max</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="664">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">          max_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="665">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="666">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="667">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def fewest_goals_scored(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="52" data-linenumber="668">
            
              <span class="hits">52</span>
            

            

            <code class="ruby">      team_games = @games.select { |game| game.home_team_id == team_id || game.away_team_id == team_id }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="669">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="670">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">      min_goals = team_games.map do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="671">
            
              <span class="hits">11</span>
            

            

            <code class="ruby">        if game.home_team_id == team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="672">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">          game.home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="673">
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="674">
            
              <span class="hits">6</span>
            

            

            <code class="ruby">          game.away_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="675">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="676">
            

            

            <code class="ruby">      end.min</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="677">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        min_goals</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="678">
            

            

            <code class="ruby">      end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="679">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="680">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def calculate_season_summary(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="681">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        season_stats ={}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="682">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        @games.each do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="683">
            
              <span class="hits">25</span>
            

            

            <code class="ruby">            next unless game.away_team_id == team_id || game.home_team_id == team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="684">
            
              <span class="hits">8</span>
            

            

            <code class="ruby">            season = game.season</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="685">
            
              <span class="hits">8</span>
            

            

            <code class="ruby">            team_home = game.home_team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="686">
            
              <span class="hits">8</span>
            

            

            <code class="ruby">            team_away = game.away_team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="687">
            
              <span class="hits">8</span>
            

            

            <code class="ruby">            away_goals = game.away_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="688">
            
              <span class="hits">8</span>
            

            

            <code class="ruby">            home_goals = game.home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="689">
            
              <span class="hits">8</span>
            

            

            <code class="ruby">            type=game.type</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="690">
            
              <span class="hits">8</span>
            

            

            <code class="ruby">            if team_away == team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="691">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                if game.type == &quot;Postseason&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="692">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                season_stats[season] ||={postseason:{wins:0, goals_for: 0, goals_against: 0,games: 0} }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="693">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                season_stats[season][:postseason][:goals_for] += away_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="694">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                season_stats[season][:postseason][:goals_against] += home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="695">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                season_stats[season][:postseason][:games] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="696">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                if away_goals &gt; home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="697">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                    season_stats[season][:postseason][:wins] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="698">
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="699">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="700">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                if game.type == &quot;Regular Season&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="701">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                season_stats[season] ||={regular_season:{wins:0, goals_for: 0, goals_against: 0,games: 0} }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="702">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                season_stats[season][:regular_season][:goals_for] += away_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="703">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                season_stats[season][:regular_season][:goals_against] += home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="704">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                season_stats[season][:regular_season][:games] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="705">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                if away_goals &gt; home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="706">
            

            

            <code class="ruby">                    season_stats[season][:regular_season][:wins] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="707">
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="708">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="709">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">            else team_home == team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="710">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">                if game.type == &quot;Postseason&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="711">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                    season_stats[season] ||={postseason:{wins:0, goals_for: 0, goals_against: 0,games: 0} }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="712">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                    season_stats[season][:postseason][:goals_for] += home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="713">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                    season_stats[season][:postseason][:goals_against] += away_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="714">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                    season_stats[season][:postseason][:games] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="715">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                    if away_goals &lt; home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="716">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                    season_stats[season][:postseason][:wins] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="717">
            

            

            <code class="ruby">                    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="718">
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="719">
            
              <span class="hits">5</span>
            

            

            <code class="ruby">                if game.type == &quot;Regular Season&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="720">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                    season_stats[season] ||={regular_season:{wins:0, goals_for: 0, goals_against: 0,games: 0} }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="721">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                    season_stats[season][:regular_season][:goals_for] += home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="722">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                    season_stats[season][:regular_season][:goals_against] += away_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="723">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                    season_stats[season][:regular_season][:games] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="724">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">                    if away_goals &lt; home_goals</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="725">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                    season_stats[season][:regular_season][:wins] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="726">
            

            

            <code class="ruby">                    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="727">
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="728">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="729">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="730">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        season_stats</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="731">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="732">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="733">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def seasonal_summary(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="734">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        summary = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="735">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        season_stats=calculate_season_summary(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="736">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        season_stats.each do |season,data|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="737">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="738">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">            if data[:regular_season] != nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="739">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                summary[season] ||= summary[season] ||={regular_season:{win_percentage:0, total_goals_scored: 0, total_goals_against: 0, average_goals_scored: 0, average_goals_against: 0}}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="740">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                summary[season][:regular_season][:win_percentage] = data[:regular_season][:wins].to_f/data[:regular_season][:games]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="741">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                summary[season][:regular_season][:total_goals_scored]=data[:regular_season][:goals_for]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="742">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                summary[season][:regular_season][:total_goals_against]=data[:regular_season][:goals_against]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="743">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                summary[season][:regular_season][:average_goals_scored]= data[:regular_season][:goals_for].to_f/data[:regular_season][:games]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="744">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">                summary[season][:regular_season][:average_goals_against]= data[:regular_season][:goals_against].to_f/data[:regular_season][:games]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="745">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="746">
            
              <span class="hits">4</span>
            

            

            <code class="ruby">            if data[:postseason] != nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="747">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                summary[season] ||= summary[season] ||={postseason:{win_percentage:0, total_goals_scored: 0, total_goals_against: 0, average_goals_scored: 0, average_goals_against: 0}}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="748">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                summary[season][:postseason][:win_percentage] = data[:postseason][:wins].to_f/data[:postseason][:games]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="749">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                summary[season][:postseason][:total_goals_scored]=data[:postseason][:goals_for]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="750">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                summary[season][:postseason][:total_goals_against]=data[:postseason][:goals_against]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="751">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                summary[season][:postseason][:average_goals_scored]= data[:postseason][:goals_for].to_f/data[:postseason][:games]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="752">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">                summary[season][:postseason][:average_goals_against]= data[:postseason][:goals_against].to_f/data[:postseason][:games]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="753">
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="754">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="755">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        summary</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="756">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="757">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="758">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    def average_win_percentage(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="759">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        wins = calculate_team_wins(team_id).size</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="760">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        ties = calculate_team_ties(team_id).size</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="761">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        total_games = wins + ties + calculate_team_losses(team_id).size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="762">
            

            

            <code class="ruby">       </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="763">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        returm 0.0 if total_games == 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="764">
            

            

            <code class="ruby"> </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="765">
            

            

            <code class="ruby"> </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="766">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        ((wins.to_f/ total_games) * 100).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="767">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="768">
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9fc67fac9c6ae094eca7717dcdb4d29a17a0dd01">
  <div class="header">
    <h3>lib/team.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>9</b> relevant lines.
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">class Team</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :team_id, :franchiseid, :teamname, :abbreviation, :stadium, :link</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(team_id, franchiseid, teamname, abbreviation, stadium, link)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1122" data-linenumber="5">
            
              <span class="hits">1122</span>
            

            

            <code class="ruby">    @team_id = team_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1122" data-linenumber="6">
            
              <span class="hits">1122</span>
            

            

            <code class="ruby">    @franchiseid = franchiseid</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1122" data-linenumber="7">
            
              <span class="hits">1122</span>
            

            

            <code class="ruby">    @teamname = teamname</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1122" data-linenumber="8">
            
              <span class="hits">1122</span>
            

            

            <code class="ruby">    @abbreviation = abbreviation</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1122" data-linenumber="9">
            
              <span class="hits">1122</span>
            

            

            <code class="ruby">    @stadium = stadium</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1122" data-linenumber="10">
            
              <span class="hits">1122</span>
            

            

            <code class="ruby">    @link = link</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f6fe1e903665434557feb38bc28493528a106029">
  <div class="header">
    <h3>spec/game_team_spec.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>0</b> relevant lines.
      <span class="green"><b>0</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f68e41f2db9ae31ada72dc8b2f2ccf7cdf0eb020">
  <div class="header">
    <h3>spec/stat_tracker_spec.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>113</b> relevant lines.
      <span class="green"><b>113</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;./lib/game&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;./lib/game_team&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;./lib/team&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;./lib/stat_tracker&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;CSV&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;spec_helper&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">RSpec.describe StatTracker do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="9">
            
              <span class="hits">3</span>
            

            

            <code class="ruby">  let(:stat_tracker) {StatTracker.new}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    before(:each) do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="12">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">      game_path = &#39;./data/games_dummy.csv&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="13">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">      team_path = &#39;./data/teams.csv&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="14">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">      game_teams_path = &#39;./data/game_teams_dummy.csv&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            

            

            <code class="ruby">      locations = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="16">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">          games: game_path,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            

            

            <code class="ruby">          teams: team_path,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            

            

            <code class="ruby">          game_teams: game_teams_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            

            

            <code class="ruby">          }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="35" data-linenumber="21">
            
              <span class="hits">35</span>
            

            

            <code class="ruby">      @stat_tracker = StatTracker.from_csv(locations)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  it &#39;exists&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    expect(@stat_tracker).to be_instance_of(StatTracker)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  describe &quot;#highest and #lowest total scores &quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can provide the highest combined score&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="30">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.highest_total_score).to eq(7)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can provide the lowest combined score&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.lowest_total_score).to eq(1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  describe &quot;#percentage_wins and ties&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can return the percentage of home wins&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.percentage_home_wins).to eq(0.40)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can return the percentage of away wins&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.percentage_visitor_wins).to eq(0.36)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can return the percentage of ties&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.percentage_ties).to eq(0.24)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  it &#39;can provide the number of games by season&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    expect(@stat_tracker.count_of_games_by_season).to eq({&quot;20122013&quot;=&gt;9, &quot;20132014&quot;=&gt;2, &quot;20152016&quot;=&gt;5, &quot;20162017&quot;=&gt;3, &quot;20172018&quot;=&gt;6})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="56">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  describe &quot;#average_goals&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can provide provide the averge number of goals scored in a game across all seasons&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.average_goals_per_game).to eq(4.48)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="61">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can provide a hash with season names as keys, and average number of goals for that season as the value&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.average_goals_by_season).to eq({&quot;20122013&quot;=&gt;4.0, &quot;20132014&quot;=&gt;3.5, &quot;20152016&quot;=&gt;4.6, &quot;20162017&quot;=&gt;4.67, &quot;20172018&quot;=&gt;5.33})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="66">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  it &#39;can count the total number of teams&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="67">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    expect(@stat_tracker.count_of_teams).to eq(32)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="70">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  describe &#39;#scoring&#39; do </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="71">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      it &#39;can identify the best offense&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="72">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">          expect(@stat_tracker.best_offense).to eq(&quot;Toronto FC&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      it &#39;can identify the worst offense&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">          expect(@stat_tracker.worst_offense).to eq(&quot;Atlanta United&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  describe &quot;#highest and #lowest scoring by home or visitor&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="81">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &quot;can return the team with the highest average goals at home&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="82">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.highest_scoring_home_team).to eq(&quot;FC Dallas&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="85">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &quot;can return the team with the lowest average goals at home&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="86">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.lowest_scoring_home_team).to eq(&quot;Houston Dynamo&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="89">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can return the team with the highest average goals when away&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.highest_scoring_visitor).to eq(&quot;Philadelphia Union&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="93">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can return the team with the lowest average goals when away&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="94">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.lowest_scoring_visitor).to eq(&quot;DC United&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="98">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  describe &quot;#coach performance&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="99">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &quot;can return a name of the Coach with the best win percentage for the season&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="100">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.winningest_coach(&quot;20132014&quot;)).to eq(&quot;Barry Trotz&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="101">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.winningest_coach(&quot;20122013&quot;)).to eq(&quot;Claude Julien&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="104">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &quot;can return a name of the Coach with the worst win percentage for the season&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="105">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.worst_coach(&quot;20132014&quot;)).to eq(&quot;Michel Therrien&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="106">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.worst_coach(&quot;20122013&quot;)).to eq(&quot;John Tortorella&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="110">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  describe &#39;#team accuracy&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="111">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can calculate season accuracy ratios&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="112">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.calculate_season_accuracy_ratios).to be_a(Hash)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="115">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can identify the most accurate team in a season&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="116">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      allow(stat_tracker).to receive(:most_accurate_team).with(&quot;20132014&quot;).and_return(&quot;Real Salt Lake&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="117">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      allow(stat_tracker).to receive(:most_accurate_team).with(&quot;20142015&quot;).and_return(&quot;Toronto FC&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="119">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(stat_tracker.most_accurate_team(&quot;20132014&quot;)).to eq(&quot;Real Salt Lake&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="120">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(stat_tracker.most_accurate_team(&quot;20142015&quot;)).to eq(&quot;Toronto FC&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="123">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can identify the least accurate team in a season&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="124">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      allow(stat_tracker).to receive(:least_accurate_team).with(&quot;20122013&quot;).and_return(&quot;Houston Dynamo&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="125">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      allow(stat_tracker).to receive(:least_accurate_team).with(&quot;20162017&quot;).and_return(&quot;FC Cincinnati&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="127">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(stat_tracker.least_accurate_team(&quot;20122013&quot;)).to eq(&quot;Houston Dynamo&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="128">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(stat_tracker.least_accurate_team(&quot;20162017&quot;)).to eq(&quot;FC Cincinnati&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="132">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  describe &quot;#tackles&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="133">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &quot;can return the team with the most total tackles based on season&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="134">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.most_tackles(&quot;2012030221&quot;)).to eq(&quot;FC Dallas&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="137">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &quot;can return the team with the fewest total tackles based on season&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="138">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.fewest_tackles(&quot;2012030221&quot;)).to eq(&quot;Atlanta United&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="142">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  it &quot;can return team_info&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            

            

            <code class="ruby">    info_hash1 = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="144">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      &quot;team_id&quot; =&gt; &quot;53&quot;, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            

            

            <code class="ruby">      &quot;franchise_id&quot; =&gt; &quot;28&quot;, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            

            

            <code class="ruby">      &quot;team_name&quot; =&gt; &quot;Columbus Crew SC&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            

            

            <code class="ruby">      &quot;abbreviation&quot; =&gt; &quot;CCS&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            

            

            <code class="ruby">      &quot;link&quot; =&gt; &quot;/api/v1/teams/53&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            

            

            <code class="ruby">    info_hash2= {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="151">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      &quot;team_id&quot; =&gt; &quot;1&quot;, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            

            

            <code class="ruby">      &quot;franchise_id&quot; =&gt; &quot;23&quot;, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            

            

            <code class="ruby">      &quot;team_name&quot; =&gt; &quot;Atlanta United&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            

            

            <code class="ruby">      &quot;abbreviation&quot; =&gt; &quot;ATL&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            

            

            <code class="ruby">      &quot;link&quot; =&gt; &quot;/api/v1/teams/1&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="157">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    expect(@stat_tracker.team_info(&quot;53&quot;)).to eq(info_hash1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="159">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    expect(@stat_tracker.team_info(&quot;1&quot;)).to eq(info_hash2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="162">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  describe &#39;#season stats&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="163">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can determine a teams best season&#39;do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="164">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.best_season(3)).to eq(nil)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="167">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can determine a teams worst season&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="168">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.worst_season(&quot;6&quot;)).to eq &quot;20122013&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="172">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  describe &quot;#most and #fewest goals scored&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="173">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can return the most goals scored&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="174">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.most_goals_scored(&quot;6&quot;)).to eq(3)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="175">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.most_goals_scored(&quot;8&quot;)).to eq(4)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="178">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can return the fewest goals scored&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="179">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        expect(@stat_tracker.fewest_goals_scored(&quot;6&quot;)).to eq(2)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="180">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        expect(@stat_tracker.fewest_goals_scored(&quot;8&quot;)).to eq(1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="184">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  describe &quot;#favorite_opponent and #rival by team&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="185">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &quot;can provide team of the opponent with the lowest win percentage against team provided&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="186">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.favorite_opponent(&quot;8&quot;)).to eq(&quot;Seattle Sounders FC&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="187">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.favorite_opponent(&quot;6&quot;)).to eq(&quot;Houston Dynamo&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="190">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &quot;can provide team of the opponent with the highest win percentage against team provided&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="191">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    expect(@stat_tracker.rival(&quot;8&quot;)).to eq(&quot;Chicago Fire&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="192">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    expect(@stat_tracker.rival(&quot;6&quot;)).to eq(&quot;Sporting Kansas City&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="196">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  it &#39;identifies a teams biggest blowout&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="197">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    expect(@stat_tracker.biggest_team_blowout(6)).to eq(1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="200">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  it &#39;identifies a teams worst loss&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="201">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    expect(@stat_tracker.worst_loss(3)).to eq(1)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="204">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  it &#39;can give win percentages for a team against all other teams&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="205">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    hash={&quot;Chicago Fire&quot;=&gt;0.0, &quot;Orlando Pride&quot;=&gt;0.0, &quot;Seattle Sounders FC&quot;=&gt;1.0}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="206">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    expect(@stat_tracker.head_to_head(&quot;8&quot;)).to eq(hash)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="209">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  it &quot;calculates a team&#39;s stats by season&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            

            

            <code class="ruby">    hash_team_6 =</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="211">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    {&quot;20122013&quot;=&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            

            

            <code class="ruby">  {:postseason=&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            

            

            <code class="ruby">  {:win_percentage=&gt;1.0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            

            

            <code class="ruby">    :total_goals_scored=&gt;14,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            

            

            <code class="ruby">    :total_goals_against=&gt;8,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            

            

            <code class="ruby">    :average_goals_scored=&gt;2.8,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            

            

            <code class="ruby">    :average_goals_against=&gt;1.6}},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            

            

            <code class="ruby">  &quot;20162017&quot;=&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            

            

            <code class="ruby">  {:regular_season=&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            

            

            <code class="ruby">  {:win_percentage=&gt;0.0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            

            

            <code class="ruby">    :total_goals_scored=&gt;2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            

            

            <code class="ruby">    :total_goals_against=&gt;3,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            

            

            <code class="ruby">    :average_goals_scored=&gt;2.0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            

            

            <code class="ruby">    :average_goals_against=&gt;3.0}},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            

            

            <code class="ruby">  &quot;20132014&quot;=&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            

            

            <code class="ruby">  {:regular_season=&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            

            

            <code class="ruby">  {:win_percentage=&gt;1.0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            

            

            <code class="ruby">    :total_goals_scored=&gt;2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            

            

            <code class="ruby">    :total_goals_against=&gt;1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            

            

            <code class="ruby">    :average_goals_scored=&gt;2.0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            

            

            <code class="ruby">    :average_goals_against=&gt;1.0}},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            

            

            <code class="ruby">  &quot;20172018&quot;=&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            

            

            <code class="ruby">  {:regular_season=&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            

            

            <code class="ruby">  {:win_percentage=&gt;0.0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            

            

            <code class="ruby">    :total_goals_scored=&gt;3,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            

            

            <code class="ruby">    :total_goals_against=&gt;3,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            

            

            <code class="ruby">    :average_goals_scored=&gt;3.0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            

            

            <code class="ruby">    :average_goals_against=&gt;3.0}}}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="239">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    expect(@stat_tracker.seasonal_summary(&quot;6&quot;)).to eq(hash_team_6)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="242">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">  describe &quot;#average_win_percentage&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="243">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    it &#39;can return the average win percentage of all games for a team&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="244">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">      expect(@stat_tracker.average_win_percentage(3)).to eq(25.00)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="3f5eda40f9778caef9e9e9505c4a76da10a2f0d5">
  <div class="header">
    <h3>spec/team_spec.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>15</b> relevant lines.
      <span class="green"><b>15</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;./lib/team&#39; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;./lib/stat_tracker&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">RSpec.describe Team do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    before(:each) do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="7">
            
              <span class="hits">2</span>
            

            

            <code class="ruby">        @team = Team.new(1,23,&quot;Atlanta United&quot;,&quot;ATL&quot;,&quot;Mercedes-Benz Stadium&quot;,&quot;/api/v1/teams/1&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            

            

            <code class="ruby">        # require &#39;pry&#39;; binding.pry</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">    describe &#39;#initialze&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        it &quot;exists&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">            expect(@team).to be_instance_of(Team)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">        it &#39;has attributes&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">            expect(@team.team_id).to eq(1)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">            expect(@team.franchiseid).to eq(23)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">            expect(@team.teamname).to eq(&quot;Atlanta United&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">            expect(@team.abbreviation).to eq(&quot;ATL&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">            expect(@team.stadium).to eq(&quot;Mercedes-Benz Stadium&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            
              <span class="hits">1</span>
            

            

            <code class="ruby">            expect(@team.link).to eq(&quot;/api/v1/teams/1&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
